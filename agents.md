- 使用 pnpm 管理当前项目，不使用 npm 或 yarn

## 前端开发规范

### TypeScript/JavaScript
- 使用 TypeScript 严格模式，所有代码必须通过类型检查
- 使用路径别名 `@/` 指向 `./src` 目录
- 优先使用 ES6+ 语法（箭头函数、解构、模板字符串等）
- 避免使用 `any` 类型，优先使用明确的类型或 `unknown`
- 未使用的变量和参数必须删除或注释说明原因

### SolidJS 规范
- 使用 `class` 属性而不是 `className`（SolidJS 特性）
- 组件使用函数式组件，首字母大写
- 使用 `createSignal`、`createMemo`、`createEffect` 等响应式 API
- 组件文件使用 PascalCase 命名（如 `SettingsPage.tsx`）
- 优先使用组合式 API，避免过度嵌套

### 样式规范
- 使用 Tailwind CSS 进行样式编写
- 优先使用 Tailwind 工具类，避免内联样式
- 使用 shadcn/ui 组件库的组件，保持 UI 一致性
- **尽量不要改动 UI 库中的组件**（`src/components/ui/` 目录下的组件），如需定制请通过组合或包装的方式实现
- 响应式设计优先考虑移动端和桌面端适配

### 文件组织
- 组件放在 `src/components/` 目录
- UI 组件放在 `src/components/ui/` 目录
- 工具函数放在 `src/lib/` 目录
- 每个组件一个文件，文件名与组件名保持一致
- 使用默认导出导出组件

### 国际化
- 所有用户可见的文本必须使用国际化函数 `t()` 进行翻译
- 翻译键使用点分隔的命名空间（如 `app.settings.title`）
- 新增文本时，需要在所有语言文件中添加对应翻译
- 默认语言为中文简体（zh-CN）

### 代码质量
- 保持函数简洁，单一职责原则
- 使用有意义的变量和函数名
- 添加必要的注释，特别是复杂逻辑
- 避免深层嵌套，优先使用早期返回

## 后端开发规范

### Rust 规范
- 遵循 Rust 官方代码风格（使用 `rustfmt`）
- 使用 `snake_case` 命名函数和变量
- 使用 `PascalCase` 命名类型和结构体
- 使用 `SCREAMING_SNAKE_CASE` 命名常量
- 模块使用 `snake_case` 命名

### 错误处理
- 优先使用 `Result<T, E>` 进行错误处理
- 使用 `anyhow` 进行错误传播和上下文添加
- 避免使用 `unwrap()`，优先使用 `?` 操作符或 `expect()` 并添加说明
- 为错误添加有意义的上下文信息

### 日志规范
- 使用 `tracing` 进行日志记录
- 日志级别：`error` > `warn` > `info` > `debug` > `trace`
- 关键操作使用 `info!`，错误使用 `error!`
- 日志消息使用中文，保持清晰简洁

### Tauri 命令
- Tauri 命令函数使用 `#[tauri::command]` 宏标记
- 命令函数名使用 `snake_case`
- 命令参数和返回值必须实现 `Serialize` 和 `Deserialize`
- 异步操作使用 `async/await`

### 代码注释
- 公共 API 必须添加文档注释（`///`）
- 复杂逻辑添加行内注释说明
- 使用中文注释，保持清晰易懂

## 通用规范

### 软件设计原则
- **模块化设计**：将功能拆分为独立的模块，每个模块职责单一、边界清晰
- **抽象化设计**：提取通用逻辑和模式，避免代码重复，提高复用性
- **接口化设计**：定义清晰的接口（trait/interface），实现与接口分离，便于扩展和替换
- **可扩展性**：设计时考虑未来需求变化，预留扩展点，避免硬编码和紧耦合
- **可维护性**：代码结构清晰，依赖关系明确，便于理解和修改
- 优先使用组合而非继承，降低模块间耦合度
- 遵循依赖倒置原则，高层模块不应依赖低层模块，都应依赖抽象

### Git 提交
- 提交信息使用中文，清晰描述改动内容
- 提交前确保代码通过类型检查和 lint 检查
- 相关改动放在同一个提交中

### 性能优化
- 避免不必要的重新渲染和计算
- 大文件或资源使用懒加载
- 合理使用缓存和记忆化
- Rust 端注意内存管理和资源释放

### 安全性
- 不将敏感信息硬编码在代码中
- 用户输入必须进行验证和清理
- 文件操作注意路径安全，避免路径遍历攻击

### 测试
- 关键功能添加单元测试
- 复杂逻辑添加集成测试
- 测试文件命名：`*_test.rs`（Rust）或 `*.test.ts`（TypeScript）

### 依赖管理
- 定期更新依赖，修复安全漏洞
- 添加新依赖前评估必要性
- 优先使用维护活跃的库
