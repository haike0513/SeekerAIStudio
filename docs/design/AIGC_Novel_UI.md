# AIGC 小说创作助手 - UI/UX 设计文档

## 1. 设计原则
- **沉浸感 (Immersion)**: 写作是高专注度活动，界面应尽量减少不必要的干扰，提供“禅模式”。
- **辅助性 (Assistive)**: AI 是副驾驶，不应抢夺主驾驶（作者）的控制权。AI 建议应以侧边栏、弹窗或悬浮提示形式出现，而非直接覆盖。
- **模块化 (Modularity)**: 设定、大纲、正文应在视觉上分区清晰，且支持自定义布局。

## 2. 界面布局 (Layout)

### 2.1 主工作台 (Main Workspace)
采用 **三栏式布局** (左-中-右)，可折叠。

#### 左侧栏：导航与结构 (Navigation & Structure)
- **文件树**: 展示 卷 -> 章 -> 节 的层级结构。
- **拖拽排序**: 支持拖拽调整章节顺序。
- **字数统计**: 显示每章字数。

#### 中间栏：核心编辑器 (The Editor)
- **极简模式**: 隐藏所有工具栏，仅保留光标和文本。
- **行间交互**: 
  - 输入 `/` 唤起 AI 指令菜单 (Slash Commands)。
  - 选中白文本后悬浮工具条 (Floating Toolbar): [润色] [扩写] [缩写]。
- **Ghost Text**: AI 续写内容以灰色显示，Tab 键采纳，Esc 键取消。

#### 右侧栏：副驾驶与资料 (Copilot & Context)
- **Tab 1: 聊天助手 (Chat)**: 与 AI 对话，提问或要求生成素材。
- **Tab 2: 角色/设定 (Context)**: 当前章节涉及的角色卡片，点击可插入详情或引用。
- **Tab 3: 大纲 (Outline)**: 当前章节的细纲，供写作时参考。

### 2.2 角色工坊界面 (Character Workshop UI)
- **卡片网格视图**: 展示所有角色头像和简要信息。
- **详情模态框 (Modal)**: 
  - 左侧：头像生成器 (集成文生图功能)。
  - 右侧：属性表单 (姓名, 年龄, 性格标签, 详细设定)。

## 3. 交互细节 (Interaction Details)

### AI 续写交互
1. 用户光标停顿超过 N 秒，或手动快捷键 (`Ctrl+J`)。
2. 光标处出现 Loading 动画。
3. AI 流式输出 3 个版本的续写建议 (Option A/B/C)。
4. 用户使用方向键选择，回车确认。

### 设定引用
1. 用户在正文中输入 `@`。
2. 弹出角色/地点列表。
3. 选择后，AI 在后续生成中会加强对该实体的上下文理解（Prompt 注入）。

## 4. 视觉风格 (Visual Style)
- **主题**: 默认跟随系统深色/浅色模式，额外提供 "羊皮纸 (Sepia)" 护眼模式。
- **字体**: 提供衬线体 (Serif) 用于正文阅读，无衬线体 (Sans-serif) 用于 UI 元素。
- **强调色**: 使用柔和的品牌色（如紫罗兰色）标识 AI 生成的内容，以示区分。
