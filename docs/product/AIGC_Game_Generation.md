# AIGC 游戏开发助手 (AIGC Game Dev Kit) - 产品需求文档 (PRD)

> 版本: 1.0
> 最后更新: 2026-01-16
> 状态: 规划阶段

---

## 1. 产品概述

### 1.1 定义
**AIGC 游戏开发助手** 是 SeekerAIStudio 的游戏资产与故事生成模块，旨在帮助独立游戏开发者和小型工作室快速生成游戏所需的视觉资产、剧情文本和音频素材，大幅降低游戏开发的时间和成本门槛。

### 1.2 愿景
> **让每个有梦想的创作者都能做出自己的游戏**

无论是视觉小说、RPG 还是冒险游戏，游戏开发往往需要大量的美术、文案和音频资源。我们的目标是让 AI 成为开发者的"外包团队"，在几分钟内完成传统需要几周的工作。

### 1.3 核心价值
| 价值点 | 描述 |
|--------|------|
| **降低门槛** | 无需专业美术和作曲技能 |
| **提升效率** | 批量生成素材，节省 80% 时间 |
| **保持一致** | 角色风格统一，不会每次画出不同的人 |
| **即插即用** | 导出格式兼容主流游戏引擎 |

### 1.4 与其他模块的协同
```
┌─────────────────────────────────────────────────────────────────────┐
│                          SeekerAIStudio                              │
│                                                                      │
│  ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐          │
│  │   Novel   │──▶│   Comic  │──▶│   Audio  │──▶│   Video  │         │
│  │  (剧情)   │   │  (立绘)   │   │  (配音)   │   │  (过CG)   │         │
│  └─────┬────┘   └─────┬────┘   └─────┬────┘   └──────────┘          │
│        │              │              │                               │
│        └──────────────┼──────────────┘                               │
│                       ▼                                              │
│              ┌──────────────────┐                                    │
│              │   Game Dev Kit   │                                    │
│              │   (整合+导出)      │                                    │
│              └──────────────────┘                                    │
│                       │                                              │
│        ┌──────────────┼──────────────┐                               │
│        ▼              ▼              ▼                               │
│   ┌─────────┐   ┌─────────┐   ┌─────────┐                           │
│   │  Unity  │   │ Ren'Py  │   │ Godot   │                           │
│   │  导出    │   │  导出    │   │  导出    │                           │
│   └─────────┘   └─────────┘   └─────────┘                           │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 2. 目标用户

### 2.1 主要用户画像

#### 用户 A: 独立开发者小明
| 属性 | 描述 |
|------|------|
| **背景** | 有编程能力，但没有美术基础 |
| **项目** | 想做一款视觉小说游戏 |
| **痛点** | 请画师太贵，自己画不出来 |
| **需求** | 快速生成角色立绘、背景、UI |
| **预算** | ¥200-500/月 |

#### 用户 B: 游戏工作室策划小红
| 属性 | 描述 |
|------|------|
| **背景** | 游戏策划，负责剧情设计 |
| **项目** | RPG 游戏的支线任务 |
| **痛点** | 需要快速产出大量对话和任务描述 |
| **需求** | AI 辅助写对白、任务设计 |
| **预算** | 公司付费 |

#### 用户 C: Ren'Py 爱好者阿杰
| 属性 | 描述 |
|------|------|
| **背景** | 使用 Ren'Py 做同人游戏 |
| **项目** | 同人视觉小说 |
| **痛点** | 角色立绘表情变化太多，画不过来 |
| **需求** | 同一角色多表情、多姿态生成 |
| **预算** | ¥100-200/月 |

### 2.2 次要用户
- **游戏兼职者**: 周末做独立游戏
- **游戏 MOD 作者**: 为现有游戏制作 MOD
- **游戏原型设计师**: 快速验证游戏创意

---

## 3. 核心功能模块

### 3.1 剧情与对话系统 (Story & Dialogue)

#### 3.1.1 对话树编辑器
可视化的对话分支编辑器，支持复杂的故事线设计。

**功能:**
- 拖拽式节点连接
- 多分支对话设计
- 条件判断节点 (基于变量)
- 角色立绘/表情关联
- 预览模式

**界面原型:**
```
┌─────────────────────────────────────────────────────────────────────┐
│  [保存] [导出] [预览]                                    [变量面板]   │
├───────────────────────────────────────────────────────────────────┤
│                                                                     │
│      ┌───────────┐         ┌───────────┐         ┌───────────┐    │
│      │   Start   │────────▶│  Choice 1 │────────▶│  End A    │    │
│      │           │         └───────────┘         └───────────┘    │
│      └───────────┘                │                               │
│                                   │                               │
│                                   ▼                               │
│                           ┌───────────┐         ┌───────────┐    │
│                           │  Choice 2 │────────▶│  End B    │    │
│                           └───────────┘         └───────────┘    │
│                                                                     │
├─────────────────────────────────────────────────────────────────────┤
│  节点属性:                                                          │
│  说话者: [Alice ▼]  表情: [微笑 ▼]                                  │
│  对白: [你好，欢迎来到这个世界...                              ]    │
│  [+ 添加选项]  [🤖 AI 续写]                                          │
└─────────────────────────────────────────────────────────────────────┘
```

#### 3.1.2 AI 剧情生成
| 功能 | 描述 |
|------|------|
| 剧情大纲生成 | 根据游戏类型和主题生成故事框架 |
| 对话续写 | 根据上下文自动续写对话 |
| 分支建议 | 在关键节点生成多个剧情分支 |
| 角色语气一致 | 根据角色设定保持说话风格 |
| 多结局生成 | 生成符合玩家选择的不同结局 |

#### 3.1.3 本地化支持
- 一键翻译对话到多语言
- 保持语气和风格
- 术语表管理

### 3.2 角色立绘系统 (Character Portraits)

#### 3.2.1 角色创建工作流
```
1. 描述角色 (文字描述或标签)
     │
     ▼
2. 生成基础立绘
     │
     ├─── 不满意? ──▶ 调整提示词 ──▶ 重新生成
     │
     ▼
3. 锁定角色风格 (保存 Seed + 提示词)
     │
     ▼
4. 生成多表情变体
     │  • 开心
     │  • 悲伤
     │  • 愤怒
     │  • 惊讶
     │  • ...
     │
     ▼
5. 生成多姿态变体
     │  • 正面
     │  • 侧面
     │  • 背面
     │  • 坐姿
     │  • ...
     │
     ▼
6. 导出立绘集
```

#### 3.2.2 表情系统
| 表情类别 | 变体 |
|---------|------|
| 基础表情 | 平静、微笑、开心、大笑 |
| 负面表情 | 悲伤、哭泣、愤怒、厌恶 |
| 惊讶类 | 惊讶、恐惧、困惑 |
| 特殊表情 | 害羞、尴尬、得意、思考 |

**技术实现:**
- 使用表情标签 (expression tags) 控制生成
- 支持 ComfyUI ControlNet 精确控制
- 面部区域重绘 (Inpainting) 保持角色一致

#### 3.2.3 姿态系统
| 姿态类别 | 变体 |
|---------|------|
| 站姿 | 正面站立、侧身站立、背影 |
| 坐姿 | 椅子坐、地上坐、跪坐 |
| 动作 | 挥手、鞠躬、战斗姿态 |
| 特殊 | 躺卧、跑步、飞行 |

#### 3.2.4 立绘导出格式
| 格式 | 用途 |
|------|------|
| PNG (透明背景) | 游戏引擎通用 |
| PSD (分层) | 专业编辑 |
| Spine JSON | 骨骼动画 |
| Live2D 模板 | Live2D 动画 |

### 3.3 场景背景系统 (Scene Backgrounds)

#### 3.3.1 场景类型
| 类型 | 示例 |
|------|------|
| 室内 | 卧室、教室、办公室、酒吧、餐厅 |
| 室外 | 街道、公园、森林、海滩、山脉 |
| 奇幻 | 城堡、地牢、魔法塔、异世界 |
| 科幻 | 太空站、飞船内部、未来城市 |
| 特殊 | 战斗场景、梦境、回忆 |

#### 3.3.2 时间/天气变体
同一场景自动生成多个版本:
- 白天 / 傍晚 / 夜晚
- 晴天 / 阴天 / 雨天 / 雪天

#### 3.3.3 视角控制
- 固定视角 (传统 VN)
- 多视角 (同一场景不同角度)
- 透视控制 (前景/中景/背景)

### 3.4 UI 素材系统 (UI Assets)

#### 3.4.1 对话框样式
| 样式 | 描述 |
|------|------|
| 简约 | 半透明矩形框 |
| 奇幻 | 羊皮纸卷轴风格 |
| 现代 | 圆角卡片 + 玻璃拟态 |
| 复古 | 像素风格边框 |
| 科幻 | 霓虹发光边框 |

#### 3.4.2 按钮与菜单
- 主菜单按钮
- 选项按钮
- 确认/取消按钮
- 设置菜单组件

#### 3.4.3 特效素材
- 转场效果 (淡入淡出、百叶窗)
- 情绪特效 (心形、愤怒线、汗滴)
- 环境粒子 (雪花、樱花、雨滴)

### 3.5 音频资产系统 (Audio Assets)

与 **音频模块** 深度集成。

#### 3.5.1 角色配音
- 自动为对话生成语音
- 角色声音一致性
- 情感控制 (开心、悲伤等)

#### 3.5.2 背景音乐
| 场景类型 | BGM 风格 |
|---------|---------|
| 日常 | 轻松钢琴、弦乐 |
| 战斗 | 激昂管弦、电吉他 |
| 悲伤 | 慢速钢琴、小提琴 |
| 神秘 | 环境音、合成器 |
| 浪漫 | 爵士、法式手风琴 |

#### 3.5.3 音效库
- UI 音效 (点击、确认、取消)
- 环境音效 (风声、雨声、人群)
- 动作音效 (脚步、开门、战斗)

### 3.6 导出与集成 (Export & Integration)

#### 3.6.1 Ren'Py 导出
```python
# 自动生成的 Ren'Py 脚本示例
define alice = Character("Alice", image="alice")
image alice happy = "characters/alice/happy.png"
image alice sad = "characters/alice/sad.png"

label start:
    scene bg classroom
    show alice happy
    alice "你好，欢迎来到这个世界！"
    
    menu:
        "你好！":
            jump route_a
        "这是什么地方？":
            jump route_b
```

**导出内容:**
- `script.rpy` - 主脚本文件
- `characters/` - 角色立绘
- `backgrounds/` - 场景背景
- `audio/` - 音频文件
- `gui/` - UI 素材

#### 3.6.2 Unity 导出
- 导出 Unity Package (.unitypackage)
- 包含 Sprite Atlas
- 导入脚本自动配置

#### 3.6.3 Godot 导出
- 导出为 Godot 资源包
- 自动创建 Node 结构
- 附带 GDScript 模板

#### 3.6.4 通用导出
- 资产包 (ZIP)
- 包含所有图片、音频、脚本
- 附带 JSON 元数据

---

## 4. 用户流程

### 4.1 完整创作流程
```
1. 创建游戏项目
   └── 选择游戏类型 (视觉小说/RPG/冒险)
   └── 设定基础信息 (名称、风格、时长)

2. 设计世界观
   └── 世界背景设定
   └── 时代/地点
   └── 核心冲突

3. 创建角色
   └── 主角设定
   └── 配角设定
   └── 生成立绘 (多表情/姿态)

4. 设计场景
   └── 列出需要的场景
   └── 生成场景背景
   └── 时间/天气变体

5. 编写剧情
   └── 主线剧情
   └── 支线剧情
   └── 对话树设计

6. 配置音频
   └── 角色配音
   └── 背景音乐
   └── 音效

7. 设计 UI
   └── 选择 UI 风格
   └── 自定义调整

8. 预览测试
   └── 在内置阅读器预览
   └── 测试分支流程

9. 导出
   └── 选择目标引擎
   └── 配置导出选项
   └── 生成最终文件
```

### 4.2 快速开始模式
对于新手用户，提供模板化的快速创建:

1. 选择模板 (校园恋爱、奇幻冒险、侦探推理...)
2. 填写关键设定
3. AI 自动生成完整资产
4. 用户微调
5. 导出

---

## 5. 技术方案

### 5.1 角色一致性技术
| 方案 | 优点 | 缺点 | 采用场景 |
|------|------|------|---------|
| Seed 锁定 | 简单 | 姿态变化小 | 表情变体 |
| IP-Adapter | 灵活 | 需要参考图 | 姿态变体 |
| LoRA 训练 | 最一致 | 需要训练 | 重要主角 |
| ControlNet | 精确控制 | 需要姿态图 | 特定姿态 |

### 5.2 对话系统数据结构
```typescript
interface DialogueProject {
  id: string;
  name: string;
  characters: Character[];
  scenes: Scene[];
  dialogueTree: DialogueNode[];
  variables: Variable[];
}

interface DialogueNode {
  id: string;
  type: 'dialogue' | 'choice' | 'condition' | 'jump' | 'end';
  speakerId?: string;
  expression?: string;
  text?: string;
  choices?: Choice[];
  condition?: Condition;
  nextNodeId?: string;
}

interface Choice {
  text: string;
  nextNodeId: string;
  conditions?: Condition[];
  effects?: Effect[];
}
```

### 5.3 导出适配器
```typescript
interface ExportAdapter {
  name: string;
  format: 'renpy' | 'unity' | 'godot' | 'generic';
  
  exportProject(project: GameProject): Promise<ExportResult>;
  generateScripts(dialogues: DialogueNode[]): string;
  packageAssets(assets: Asset[]): Promise<Blob>;
}
```

---

## 6. 差异化优势

### 6.1 vs 传统美术外包
| 维度 | 传统外包 | AIGC Game Dev Kit |
|------|---------|-------------------|
| 成本 | ¥500-5000/张 | ¥99/月 无限制 |
| 速度 | 1-2 周/张 | 1-5 分钟/张 |
| 修改 | 每次收费 | 无限重新生成 |
| 一致性 | 依赖画师 | 系统保证 |

### 6.2 vs 现有 AI 绘图工具
| 维度 | 通用 AI 绘图 | AIGC Game Dev Kit |
|------|-------------|-------------------|
| 角色一致性 | 需要技巧 | 内置解决方案 |
| 游戏适配 | 需要后处理 | 直接可用 |
| 批量生成 | 手动 | 一键多表情/姿态 |
| 导出格式 | 单张图片 | 引擎资源包 |
| 剧情集成 | 无 | 深度集成 |

---

## 7. 路线图

### 7.1 Phase 1: 基础功能 (2027 Q2)
- [ ] 对话树编辑器
- [ ] 基础角色生成
- [ ] 场景背景生成
- [ ] Ren'Py 导出

### 7.2 Phase 2: 增强功能 (2027 Q3)
- [ ] 多表情/姿态系统
- [ ] 角色一致性增强 (LoRA)
- [ ] 音频集成
- [ ] Unity 导出

### 7.3 Phase 3: 高级功能 (2027 Q4)
- [ ] AI 剧情生成
- [ ] Live2D 支持
- [ ] Spine 动画支持
- [ ] Godot 导出

### 7.4 Phase 4: 生态扩展 (2028 Q1)
- [ ] 模板市场
- [ ] 社区资产分享
- [ ] 插件系统

---

## 8. 成功指标

| 指标 | 目标 (Year 1) |
|------|--------------|
| 月活用户 (MAU) | 10,000 |
| 付费转化率 | 8% |
| 用户创建项目数 | 50,000+ |
| 导出资产数 | 500,000+ |
| 用户满意度 | NPS > 50 |

---

## 附录

### A. 竞品分析
- **NovelAI**: 强于图像生成，弱于游戏集成
- **Character.ai**: 强于对话，无视觉资产
- **Artbreeder**: 强于角色设计，无游戏工作流

### B. 相关文档
- [剧情系统技术架构](../technical/AIGC_Game_Dialogue_Architecture.md)
- [立绘系统 UI 设计](../design/AIGC_Game_Character_UI.md)
- [导出适配器技术规范](../technical/AIGC_Game_Export_Spec.md)
